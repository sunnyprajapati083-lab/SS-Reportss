<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Power BI Dashboard - Shaurya</title>
  <style>
    body {
      margin: 0;
      background: linear-gradient(to right, #f5f6f8, #e2e8f0);
      font-family: 'Segoe UI', Roboto, Arial, sans-serif;
    }

    .pbi-dashboard {
      display: grid;
      grid-template-columns: 270px 1fr;
      min-height: 100vh;
    }

    .pbi-sidebar {
      background: #1f2937;
      color: #e5e7eb;
      padding: 20px 12px;
      box-shadow: 2px 0 8px rgba(0,0,0,0.1);
    }

    .pbi-sidebar h2 {
      color: #ffffff;
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 16px;
    }

    .pbi-btn {
      display: flex;
      align-items: center;
      gap: 8px;
      width: 100%;
      border: none;
      background: transparent;
      color: #e5e7eb;
      padding: 12px 14px;
      border-radius: 8px;
      margin: 6px 0;
      cursor: pointer;
      font-size: 15px;
      transition: background 0.3s ease, transform 0.2s ease;
    }

    .pbi-btn:hover {
      background: #374151;
      transform: scale(1.02);
    }

    .pbi-btn.active {
      background: #2563eb;
      color: #fff;
      font-weight: 600;
    }

    .pbi-content {
      display: grid;
      grid-template-rows: auto 1fr;
    }

    .pbi-header {
      padding: 16px;
      background: #ffffff;
      border-bottom: 1px solid #e5e7eb;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .pbi-title {
      font-size: 18px;
      font-weight: 600;
      color: #111827;
    }

    .pbi-iframe-wrap {
  position: relative;
  background: #111827;
  display: flex;
  align-items: stretch;
  justify-content: stretch;
  width: 100%;
  height: 100%;
}

    .pbi-frame {
  width: 100%;
  height: 100vh; /* Full viewport height */
  border: none;
  display: block;
}

    .pbi-loader {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 16px;
      display: none;
    }

    .pbi-placeholder {
      color: #fff;
      font-size: 20px;
      text-align: center;
      padding: 40px;
      animation: pulse 1.5s infinite;
    }

    
.pbi-btn {
  white-space: nowrap; /* Prevent text from wrapping */
  overflow: hidden;
  text-overflow: ellipsis; /* Add ... if text is too long */
}


    @keyframes pulse {
      0% { opacity: 0.6; }
      50% { opacity: 1; }
      100% { opacity: 0.6; }
    }

    @media (max-width: 900px) {
      .pbi-dashboard {
        grid-template-columns: 1fr;
      }
      .pbi-sidebar {
        display: flex;
        overflow-x: auto;
        gap: 8px;
      }
      .pbi-btn {
        flex: 0 0 auto;
        white-space: nowrap;
      }
    }
  </style>
</head>
<body>
  <div class="pbi-dashboard" role="application" aria-label="PBS Reports Dashboard">
    
    <!-- Sidebar -->
    <aside class="pbi-sidebar" aria-label="Report navigation">
      <h2>ğŸ“Š PBS Reports</h2>

      <button class="pbi-btn active" data-title="Head count Summary" data-report-url="https://app.powerbi.com/reportEmbed?reportId=b4c93cdc-bb34-4bf9-9127-f0bcf52cba84&autoAuth=true&ctid=76a2ae5a-9f00-4f6b-95ed-5d33d77c4d61">ğŸ“ˆ Head count Summary</button>

      <button class="pbi-btn" data-title="Sourcing Summary" data-report-url="https://app.powerbi.com/reportEmbed?reportId=9c267d4c-818b-4ecf-9bba-a078a7140ec6&autoAuth=true&ctid=76a2ae5a-9f00-4f6b-95ed-5d33d77c4d61">ğŸ­ Sourcing Summary</button>

      <button class="pbi-btn" data-title="Open Demands" data-report-url= "https://app.powerbi.com/reportEmbed?reportId=dfa8156a-12ce-4436-b0e5-501ce21cdfe2&autoAuth=true&ctid=76a2ae5a-9f00-4f6b-95ed-5d33d77c4d61">ğŸ‘¥ Open Demands</button>

      <button class="pbi-btn" data-title="Demands Fulfillments" data-under-construction="true">ğŸ“¦ Demands Fulfillments</button>

      <button class="pbi-btn" data-title="Bench" data-report-url= "https://app.powerbi.com/reportEmbed?reportId=98935ab8-050a-44d3-9efb-ee5ad98e0a34&autoAuth=true&ctid=76a2ae5a-9f00-4f6b-95ed-5d33d77c4d61">ğŸ‘©ğŸ½â€ğŸ’¼ Bench</button>

        <button class="pbi-btn" data-title="Demand Vs Bench summary" data-report-url="https://app.powerbi.com/reportEmbed?reportId=93df4327-8c5a-408b-81f0-ae802ac3f9cb&autoAuth=true&ctid=76a2ae5a-9f00-4f6b-95ed-5d33d77c4d61">ğŸ‘©ğŸ¼â€ğŸ’» Demand Vs Bench summary</button>
    

      <button class="pbi-btn" data-title="Capability" data-report-url= "https://app.powerbi.com/reportEmbed?reportId=3700138f-c7b6-4997-b474-4655fd973d63&autoAuth=true&ctid=76a2ae5a-9f00-4f6b-95ed-5d33d77c4d61">ğŸ‘©ğŸ½â€ğŸ’¼ Capability</button>
</aside>
    

    <!-- Content -->
    <section class="pbi-content">
      <div class="pbi-header">
        <span class="pbi-title" id="pbi-current-title"></span>
      </div>
      <div class="pbi-iframe-wrap">
        <div class="pbi-loader" id="pbi-loader">ğŸ”„ Loading report...</div>
        <div class="pbi-placeholder" id="pbi-placeholder" style="display: none;">
          ğŸš§ <strong>This report is under construction.</strong><br/>
          Please check back soon for updates!
        </div>
        <iframe id="pbi-frame" class="pbi-frame" title="PBS Reports" allowfullscreen="true"></iframe>
      </div>
    </section>
  </div>

  <script>
    (function () {
      const STORAGE_KEY = 'pbiActiveReportUrl';
      const buttons = Array.from(document.querySelectorAll('.pbi-btn'));
      const iframe = document.getElementById('pbi-frame');
      const titleEl = document.getElementById('pbi-current-title');
      const loader = document.getElementById('pbi-loader');
      const placeholder = document.getElementById('pbi-placeholder');

      function loadReport(url, title) {
        loader.style.display = 'block';
        placeholder.style.display = 'none';
        iframe.style.display = 'block';
        iframe.style.opacity = 0;

        iframe.onload = () => {
          loader.style.display = 'none';
          iframe.style.opacity = 1;
        };

        iframe.src = url;
        if (titleEl) titleEl.textContent = title || 'Report';
        try { sessionStorage.setItem(STORAGE_KEY, url); } catch (e) {}
      }

      function showPlaceholder(title) {
        loader.style.display = 'none';
        iframe.style.display = 'none';
        placeholder.style.display = 'block';
        if (titleEl) titleEl.textContent = title || 'Coming Soon';
      }

      function setActive(btn) {
        buttons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
      }

      buttons.forEach(btn => {
        btn.addEventListener('click', () => {
          const title = btn.getAttribute('data-title') || btn.textContent?.trim();
          const url = btn.getAttribute('data-report-url');
          const isUnderConstruction = btn.hasAttribute('data-under-construction');

          setActive(btn);

          if (isUnderConstruction) {
            showPlaceholder(title);
          } else {
            loadReport(url, title);
          }
        });
      });

      const saved = (() => {
        try { return sessionStorage.getItem(STORAGE_KEY); } catch (e) { return null; }
      })();

      const initialBtn = saved
        ? buttons.find(b => b.getAttribute('data-report-url') === saved)
        : buttons[0];

      if (initialBtn) {
        setActive(initialBtn);
        const title = initialBtn.getAttribute('data-title') || initialBtn.textContent?.trim();
        const url = initialBtn.getAttribute('data-report-url');
        const isUnderConstruction = initialBtn.hasAttribute('data-under-construction');

        if (isUnderConstruction) {
          showPlaceholder(title);
        } else {
          loadReport(url, title);
        }
      }
    })();
  </script>
</body>

</html>


